import React, { useState, useEffect } from 'react';
import { 
  Card, 
  Row, 
  Col, 
  Table, 
  Button, 
  Space, 
  Typography, 
  Tag, 
  Avatar,
  Modal,
  Form,
  Input,
  Select,
  DatePicker,
  Switch,
  message,
  Popconfirm,
  Badge,
  Tooltip,
  Statistic
} from 'antd';
import {
  UserOutlined,
  EditOutlined,
  DeleteOutlined,
  PlusOutlined,
  SearchOutlined,
  TeamOutlined,
  UserAddOutlined,
  UserDeleteOutlined,
  EyeOutlined,
  MailOutlined,
  PhoneOutlined,
  CalendarOutlined
} from '@ant-design/icons';
import dayjs from 'dayjs';
import { MANAGER_DATA } from '../../utils/greenhouseManager';

const { Title, Text } = Typography;
const { Option } = Select;

const AdminUsers = () => {
  const [loading, setLoading] = useState(false);
  const [users, setUsers] = useState([]);
  const [filteredUsers, setFilteredUsers] = useState([]);
  const [modalVisible, setModalVisible] = useState(false);
  const [detailModalVisible, setDetailModalVisible] = useState(false);
  const [editingUser, setEditingUser] = useState(null);
  const [viewingUser, setViewingUser] = useState(null);
  const [searchText, setSearchText] = useState('');
  const [filterRole, setFilterRole] = useState('all');
  const [form] = Form.useForm();

  useEffect(() => {
    loadUsers();
  }, []);

  useEffect(() => {
    filterUsers();
  }, [users, searchText, filterRole]);

  const loadUsers = async () => {
    try {
      setLoading(true);
      
      // Í∏∞Ï°¥ Í¥ÄÎ¶¨Ïûê Îç∞Ïù¥ÌÑ∞Î•º ÏÇ¨Ïö©Ïûê ÌòïÌÉúÎ°ú Î≥ÄÌôò
      const userList = [
        {
          id: 'admin_001',
          name: 'ÏãúÏä§ÌÖú Í¥ÄÎ¶¨Ïûê',
          email: 'admin@smartfarm.com',
          phone: '010-0000-0000',
          role: 'admin',
          status: 'active',
          joinDate: '2023-01-01',
          lastLogin: dayjs().subtract(1, 'hour').format('YYYY-MM-DD HH:mm'),
          permissions: ['all'],
          avatar: null
        },
        {
          id: 'owner_001',
          name: 'ÎÜçÏû•Ï£º',
          email: 'owner@smartfarm.com',
          phone: '010-1111-1111',
          role: 'owner',
          status: 'active',
          joinDate: '2023-01-15',
          lastLogin: dayjs().subtract(30, 'minute').format('YYYY-MM-DD HH:mm'),
          permissions: ['greenhouse_view', 'manager_view', 'analytics'],
          avatar: null
        },
        ...Object.values(MANAGER_DATA).map(manager => ({
          id: manager.id,
          name: manager.name,
          email: manager.email,
          phone: manager.phone,
          role: 'manager',
          status: 'active',
          joinDate: manager.joinDate,
          lastLogin: dayjs().subtract(Math.floor(Math.random() * 24), 'hour').format('YYYY-MM-DD HH:mm'),
          permissions: ['greenhouse_manage', 'task_execute'],
          avatar: null,
          specialty: manager.specialty,
          experience: manager.experience,
          performance: manager.performance
        }))
      ];
      
      setUsers(userList);
    } catch (error) {
      console.error('ÏÇ¨Ïö©Ïûê Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ïã§Ìå®:', error);
      message.error('ÏÇ¨Ïö©Ïûê Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.');
    } finally {
      setLoading(false);
    }
  };

  const filterUsers = () => {
    let filtered = users;
    
    // Ïó≠Ìï† ÌïÑÌÑ∞
    if (filterRole !== 'all') {
      filtered = filtered.filter(user => user.role === filterRole);
    }
    
    // Í≤ÄÏÉâ ÌïÑÌÑ∞
    if (searchText) {
      filtered = filtered.filter(user => 
        user.name.toLowerCase().includes(searchText.toLowerCase()) ||
        user.email.toLowerCase().includes(searchText.toLowerCase()) ||
        user.phone.includes(searchText)
      );
    }
    
    setFilteredUsers(filtered);
  };

  const handleAddUser = () => {
    setEditingUser(null);
    form.resetFields();
    setModalVisible(true);
  };

  const handleViewUser = (user) => {
    setViewingUser(user);
    setDetailModalVisible(true);
  };

  const handleEditUser = (user) => {
    setEditingUser(user);
    form.setFieldsValue({
      ...user,
      joinDate: dayjs(user.joinDate)
    });
    setModalVisible(true);
  };

  const handleDeleteUser = async (userId) => {
    try {
      setUsers(users.filter(user => user.id !== userId));
      message.success('ÏÇ¨Ïö©ÏûêÍ∞Ä ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.');
    } catch (error) {
      message.error('ÏÇ¨Ïö©Ïûê ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.');
    }
  };

  const handleModalOk = async () => {
    try {
      const values = await form.validateFields();
      
      if (editingUser) {
        // ÏàòÏ†ï
        const updatedUsers = users.map(user => 
          user.id === editingUser.id 
            ? { ...user, ...values, joinDate: values.joinDate.format('YYYY-MM-DD') }
            : user
        );
        setUsers(updatedUsers);
        message.success('ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥Í∞Ä ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.');
      } else {
        // Ï∂îÍ∞Ä
        const newUser = {
          id: `user_${Date.now()}`,
          ...values,
          joinDate: values.joinDate.format('YYYY-MM-DD'),
          lastLogin: '-',
          status: 'active',
          permissions: getRolePermissions(values.role)
        };
        setUsers([...users, newUser]);
        message.success('ÏÉà ÏÇ¨Ïö©ÏûêÍ∞Ä Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.');
      }
      
      setModalVisible(false);
      form.resetFields();
    } catch (error) {
      console.error('ÏÇ¨Ïö©Ïûê Ï†ÄÏû• Ïã§Ìå®:', error);
    }
  };

  const getRolePermissions = (role) => {
    switch (role) {
      case 'admin': return ['all'];
      case 'owner': return ['greenhouse_view', 'manager_view', 'analytics'];
      case 'manager': return ['greenhouse_manage', 'task_execute'];
      default: return [];
    }
  };

  const getRoleColor = (role) => {
    switch (role) {
      case 'admin': return 'red';
      case 'owner': return 'gold';
      case 'manager': return 'blue';
      default: return 'default';
    }
  };

  const getRoleName = (role) => {
    switch (role) {
      case 'admin': return 'ÏãúÏä§ÌÖú Í¥ÄÎ¶¨Ïûê';
      case 'owner': return 'ÎÜçÏû•Ï£º';
      case 'manager': return 'Ïû¨Î∞∞Í¥ÄÎ¶¨Ïûê';
      default: return 'ÏÇ¨Ïö©Ïûê';
    }
  };

  const getStatusColor = (status) => {
    switch (status) {
      case 'active': return 'green';
      case 'inactive': return 'red';
      case 'pending': return 'orange';
      default: return 'default';
    }
  };

  const columns = [
    {
      title: 'ÏÇ¨Ïö©Ïûê',
      key: 'user',
      render: (_, record) => (
        <Space>
          <Avatar 
            src={record.avatar} 
            icon={<UserOutlined />}
            style={{ backgroundColor: getRoleColor(record.role) }}
          />
          <div>
            <div style={{ fontWeight: 500 }}>{record.name}</div>
            <Text type="secondary" style={{ fontSize: '12px' }}>
              {record.email}
            </Text>
          </div>
        </Space>
      )
    },
    {
      title: 'Ïó≠Ìï†',
      dataIndex: 'role',
      key: 'role',
      render: (role) => (
        <Tag color={getRoleColor(role)}>
          {getRoleName(role)}
        </Tag>
      ),
      filters: [
        { text: 'ÏãúÏä§ÌÖú Í¥ÄÎ¶¨Ïûê', value: 'admin' },
        { text: 'ÎÜçÏû•Ï£º', value: 'owner' },
        { text: 'Ïû¨Î∞∞Í¥ÄÎ¶¨Ïûê', value: 'manager' }
      ],
      onFilter: (value, record) => record.role === value
    },
    {
      title: 'Ïó∞ÎùΩÏ≤ò',
      dataIndex: 'phone',
      key: 'phone',
      render: (phone) => (
        <Space>
          <PhoneOutlined />
          <span>{phone}</span>
        </Space>
      )
    },
    {
      title: 'Í∞ÄÏûÖÏùº',
      dataIndex: 'joinDate',
      key: 'joinDate',
      render: (date) => (
        <Space>
          <CalendarOutlined />
          <span>{date}</span>
        </Space>
      ),
      sorter: (a, b) => new Date(a.joinDate) - new Date(b.joinDate)
    },
    {
      title: 'ÏµúÍ∑º Î°úÍ∑∏Ïù∏',
      dataIndex: 'lastLogin',
      key: 'lastLogin',
      render: (lastLogin) => (
        <Text type="secondary">{lastLogin}</Text>
      )
    },
    {
      title: 'ÏÉÅÌÉú',
      dataIndex: 'status',
      key: 'status',
      render: (status) => (
        <Badge 
          status={status === 'active' ? 'success' : 'error'} 
          text={status === 'active' ? 'ÌôúÏÑ±' : 'ÎπÑÌôúÏÑ±'}
        />
      )
    },
    {
      title: 'ÏûëÏóÖ',
      key: 'action',
      render: (_, record) => (
        <Space>
          <Tooltip title="ÏÉÅÏÑ∏Î≥¥Í∏∞">
            <Button 
              type="text" 
              icon={<EyeOutlined />} 
              size="small"
              onClick={() => handleViewUser(record)}
            />
          </Tooltip>
          <Tooltip title="ÏàòÏ†ï">
            <Button 
              type="text" 
              icon={<EditOutlined />} 
              size="small"
              onClick={() => handleEditUser(record)}
            />
          </Tooltip>
          {record.role !== 'admin' && (
            <Tooltip title="ÏÇ≠Ï†ú">
              <Popconfirm
                title="Ïù¥ ÏÇ¨Ïö©ÏûêÎ•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"
                onConfirm={() => handleDeleteUser(record.id)}
                okText="ÏÇ≠Ï†ú"
                cancelText="Ï∑®ÏÜå"
              >
                <Button 
                  type="text" 
                  icon={<DeleteOutlined />} 
                  size="small"
                  danger
                />
              </Popconfirm>
            </Tooltip>
          )}
        </Space>
      )
    }
  ];

  // ÏÇ¨Ïö©Ïûê ÌÜµÍ≥Ñ
  const userStats = {
    total: users.length,
    admins: users.filter(u => u.role === 'admin').length,
    owners: users.filter(u => u.role === 'owner').length,
    managers: users.filter(u => u.role === 'manager').length,
    active: users.filter(u => u.status === 'active').length,
    newThisMonth: users.filter(u => dayjs(u.joinDate).isAfter(dayjs().subtract(1, 'month'))).length
  };

  return (
    <div>
      <div style={{ marginBottom: '24px' }}>
        <Title level={2}>üë• ÏÇ¨Ïö©Ïûê Í¥ÄÎ¶¨</Title>
        <Text type="secondary">ÏãúÏä§ÌÖú ÏÇ¨Ïö©ÏûêÎì§ÏùÑ Í¥ÄÎ¶¨ÌïòÍ≥† Í∂åÌïúÏùÑ ÏÑ§Ï†ïÌïòÏÑ∏Ïöî</Text>
      </div>

      {/* ÏÇ¨Ïö©Ïûê ÌÜµÍ≥Ñ */}
      <Row gutter={[16, 16]} style={{ marginBottom: '24px' }}>
        <Col xs={24} sm={8} lg={4}>
          <Card>
            <Statistic
              title="Ï†ÑÏ≤¥ ÏÇ¨Ïö©Ïûê"
              value={userStats.total}
              prefix={<TeamOutlined />}
              valueStyle={{ color: '#1890ff' }}
            />
          </Card>
        </Col>
        <Col xs={24} sm={8} lg={4}>
          <Card>
            <Statistic
              title="Í¥ÄÎ¶¨Ïûê"
              value={userStats.admins}
              prefix={<UserOutlined />}
              valueStyle={{ color: '#ff4d4f' }}
            />
          </Card>
        </Col>
        <Col xs={24} sm={8} lg={4}>
          <Card>
            <Statistic
              title="ÎÜçÏû•Ï£º"
              value={userStats.owners}
              prefix={<UserOutlined />}
              valueStyle={{ color: '#fa8c16' }}
            />
          </Card>
        </Col>
        <Col xs={24} sm={8} lg={4}>
          <Card>
            <Statistic
              title="Ïû¨Î∞∞Í¥ÄÎ¶¨Ïûê"
              value={userStats.managers}
              prefix={<UserOutlined />}
              valueStyle={{ color: '#52c41a' }}
            />
          </Card>
        </Col>
        <Col xs={24} sm={8} lg={4}>
          <Card>
            <Statistic
              title="ÌôúÏÑ± ÏÇ¨Ïö©Ïûê"
              value={userStats.active}
              prefix={<UserOutlined />}
              valueStyle={{ color: '#722ed1' }}
            />
          </Card>
        </Col>
        <Col xs={24} sm={8} lg={4}>
          <Card>
            <Statistic
              title="Ïù¥Î≤à Îã¨ Ïã†Í∑ú"
              value={userStats.newThisMonth}
              prefix={<UserAddOutlined />}
              valueStyle={{ color: '#13c2c2' }}
            />
          </Card>
        </Col>
      </Row>

      {/* ÌïÑÌÑ∞ Î∞è Í≤ÄÏÉâ */}
      <Card style={{ marginBottom: '16px' }}>
        <Row gutter={[16, 16]} align="middle">
          <Col xs={24} sm={8}>
            <Input
              placeholder="Ïù¥Î¶Ñ, Ïù¥Î©îÏùº, Ï†ÑÌôîÎ≤àÌò∏Î°ú Í≤ÄÏÉâ"
              prefix={<SearchOutlined />}
              value={searchText}
              onChange={(e) => setSearchText(e.target.value)}
              allowClear
            />
          </Col>
          <Col xs={24} sm={6}>
            <Select
              style={{ width: '100%' }}
              value={filterRole}
              onChange={setFilterRole}
            >
              <Option value="all">Ï†ÑÏ≤¥ Ïó≠Ìï†</Option>
              <Option value="admin">ÏãúÏä§ÌÖú Í¥ÄÎ¶¨Ïûê</Option>
              <Option value="owner">ÎÜçÏû•Ï£º</Option>
              <Option value="manager">Ïû¨Î∞∞Í¥ÄÎ¶¨Ïûê</Option>
            </Select>
          </Col>
          <Col xs={24} sm={10} style={{ textAlign: 'right' }}>
            <Space>
              <Button 
                type="primary" 
                icon={<PlusOutlined />}
                onClick={handleAddUser}
              >
                ÏÉà ÏÇ¨Ïö©Ïûê Ï∂îÍ∞Ä
              </Button>
            </Space>
          </Col>
        </Row>
      </Card>

      {/* ÏÇ¨Ïö©Ïûê ÌÖåÏù¥Î∏î */}
      <Card>
        <Table
          columns={columns}
          dataSource={filteredUsers}
          rowKey="id"
          loading={loading}
          pagination={{
            total: filteredUsers.length,
            pageSize: 10,
            showSizeChanger: true,
            showQuickJumper: true,
            showTotal: (total, range) => `${range[0]}-${range[1]} / Ï¥ù ${total}Î™Ö`
          }}
        />
      </Card>

      {/* ÏÇ¨Ïö©Ïûê ÏÉÅÏÑ∏Î≥¥Í∏∞ Î™®Îã¨ */}
      <Modal
        title="ÏÇ¨Ïö©Ïûê ÏÉÅÏÑ∏ Ï†ïÎ≥¥"
        open={detailModalVisible}
        onCancel={() => {
          setDetailModalVisible(false);
          setViewingUser(null);
        }}
        footer={[
          <Button key="edit" type="primary" onClick={() => {
            setDetailModalVisible(false);
            handleEditUser(viewingUser);
          }}>
            ÏàòÏ†ï
          </Button>,
          <Button key="close" onClick={() => {
            setDetailModalVisible(false);
            setViewingUser(null);
          }}>
            Îã´Í∏∞
          </Button>
        ]}
        width={700}
      >
        {viewingUser && (
          <div>
            <Row gutter={[24, 24]}>
              <Col xs={24} sm={8} style={{ textAlign: 'center' }}>
                <Avatar 
                  size={80} 
                  src={viewingUser.avatar} 
                  icon={<UserOutlined />}
                  style={{ backgroundColor: getRoleColor(viewingUser.role) }}
                />
                <div style={{ marginTop: '16px' }}>
                  <Title level={4} style={{ margin: 0 }}>{viewingUser.name}</Title>
                  <Tag color={getRoleColor(viewingUser.role)} style={{ marginTop: '8px' }}>
                    {getRoleName(viewingUser.role)}
                  </Tag>
                </div>
              </Col>
              
              <Col xs={24} sm={16}>
                <Space direction="vertical" style={{ width: '100%' }} size="middle">
                  <div>
                    <Text strong>Í∏∞Î≥∏ Ï†ïÎ≥¥</Text>
                    <div style={{ marginTop: '8px', marginLeft: '16px' }}>
                      <div style={{ marginBottom: '8px' }}>
                        <MailOutlined style={{ marginRight: '8px' }} />
                        <Text>{viewingUser.email}</Text>
                      </div>
                      <div style={{ marginBottom: '8px' }}>
                        <PhoneOutlined style={{ marginRight: '8px' }} />
                        <Text>{viewingUser.phone}</Text>
                      </div>
                      <div style={{ marginBottom: '8px' }}>
                        <CalendarOutlined style={{ marginRight: '8px' }} />
                        <Text>Í∞ÄÏûÖÏùº: {viewingUser.joinDate}</Text>
                      </div>
                      <div style={{ marginBottom: '8px' }}>
                        <Text>ÏµúÍ∑º Î°úÍ∑∏Ïù∏: {viewingUser.lastLogin}</Text>
                      </div>
                    </div>
                  </div>

                  <div>
                    <Text strong>Í≥ÑÏ†ï ÏÉÅÌÉú</Text>
                    <div style={{ marginTop: '8px', marginLeft: '16px' }}>
                      <Badge 
                        status={viewingUser.status === 'active' ? 'success' : 'error'} 
                        text={viewingUser.status === 'active' ? 'ÌôúÏÑ±' : 'ÎπÑÌôúÏÑ±'}
                      />
                    </div>
                  </div>

                  <div>
                    <Text strong>Í∂åÌïú</Text>
                    <div style={{ marginTop: '8px', marginLeft: '16px' }}>
                      <Space wrap>
                        {viewingUser.permissions?.map(permission => (
                          <Tag key={permission} color="blue">
                            {permission === 'all' ? 'Ï†ÑÏ≤¥ Í∂åÌïú' :
                             permission === 'greenhouse_view' ? 'Ïò®Ïã§ Ï°∞Ìöå' :
                             permission === 'manager_view' ? 'Í¥ÄÎ¶¨Ïûê Ï°∞Ìöå' :
                             permission === 'analytics' ? 'Î∂ÑÏÑù' :
                             permission === 'greenhouse_manage' ? 'Ïò®Ïã§ Í¥ÄÎ¶¨' :
                             permission === 'task_execute' ? 'ÏûëÏóÖ Ïã§Ìñâ' :
                             permission}
                          </Tag>
                        ))}
                      </Space>
                    </div>
                  </div>

                  {viewingUser.role === 'manager' && (
                    <div>
                      <Text strong>Ï†ÑÎ¨∏ Ï†ïÎ≥¥</Text>
                      <div style={{ marginTop: '8px', marginLeft: '16px' }}>
                        {viewingUser.specialty && (
                          <div style={{ marginBottom: '8px' }}>
                            <Text>Ï†ÑÎ¨∏ Î∂ÑÏïº: </Text>
                            <Tag color="green">{viewingUser.specialty}</Tag>
                          </div>
                        )}
                        {viewingUser.experience && (
                          <div style={{ marginBottom: '8px' }}>
                            <Text>Í≤ΩÎ†•: {viewingUser.experience}</Text>
                          </div>
                        )}
                        {viewingUser.performance && (
                          <div style={{ marginBottom: '8px' }}>
                            <Text>ÌèâÏ†ê: ‚≠ê {viewingUser.performance.rating?.toFixed(1)}</Text>
                          </div>
                        )}
                      </div>
                    </div>
                  )}
                </Space>
              </Col>
            </Row>
          </div>
        )}
      </Modal>

      {/* ÏÇ¨Ïö©Ïûê Ï∂îÍ∞Ä/ÏàòÏ†ï Î™®Îã¨ */}
      <Modal
        title={editingUser ? 'ÏÇ¨Ïö©Ïûê ÏàòÏ†ï' : 'ÏÉà ÏÇ¨Ïö©Ïûê Ï∂îÍ∞Ä'}
        open={modalVisible}
        onOk={handleModalOk}
        onCancel={() => {
          setModalVisible(false);
          form.resetFields();
        }}
        width={600}
      >
        <Form
          form={form}
          layout="vertical"
          initialValues={{
            status: 'active',
            joinDate: dayjs()
          }}
        >
          <Row gutter={16}>
            <Col span={12}>
              <Form.Item
                label="Ïù¥Î¶Ñ"
                name="name"
                rules={[{ required: true, message: 'Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî' }]}
              >
                <Input />
              </Form.Item>
            </Col>
            <Col span={12}>
              <Form.Item
                label="Ïó≠Ìï†"
                name="role"
                rules={[{ required: true, message: 'Ïó≠Ìï†ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî' }]}
              >
                <Select>
                  <Option value="admin">ÏãúÏä§ÌÖú Í¥ÄÎ¶¨Ïûê</Option>
                  <Option value="owner">ÎÜçÏû•Ï£º</Option>
                  <Option value="manager">Ïû¨Î∞∞Í¥ÄÎ¶¨Ïûê</Option>
                </Select>
              </Form.Item>
            </Col>
          </Row>

          <Row gutter={16}>
            <Col span={12}>
              <Form.Item
                label="Ïù¥Î©îÏùº"
                name="email"
                rules={[
                  { required: true, message: 'Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî' },
                  { type: 'email', message: 'Ïò¨Î∞îÎ•∏ Ïù¥Î©îÏùº ÌòïÏãùÏù¥ ÏïÑÎãôÎãàÎã§' }
                ]}
              >
                <Input />
              </Form.Item>
            </Col>
            <Col span={12}>
              <Form.Item
                label="Ï†ÑÌôîÎ≤àÌò∏"
                name="phone"
                rules={[{ required: true, message: 'Ï†ÑÌôîÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî' }]}
              >
                <Input />
              </Form.Item>
            </Col>
          </Row>

          <Row gutter={16}>
            <Col span={12}>
              <Form.Item
                label="Í∞ÄÏûÖÏùº"
                name="joinDate"
                rules={[{ required: true, message: 'Í∞ÄÏûÖÏùºÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî' }]}
              >
                <DatePicker style={{ width: '100%' }} />
              </Form.Item>
            </Col>
            <Col span={12}>
              <Form.Item
                label="ÏÉÅÌÉú"
                name="status"
                valuePropName="checked"
              >
                <Switch 
                  checkedChildren="ÌôúÏÑ±" 
                  unCheckedChildren="ÎπÑÌôúÏÑ±"
                  checked={form.getFieldValue('status') === 'active'}
                  onChange={(checked) => form.setFieldsValue({ status: checked ? 'active' : 'inactive' })}
                />
              </Form.Item>
            </Col>
          </Row>

          {form.getFieldValue('role') === 'manager' && (
            <Row gutter={16}>
              <Col span={12}>
                <Form.Item label="Ï†ÑÎ¨∏ Î∂ÑÏïº" name="specialty">
                  <Input placeholder="Ïòà: ÌÜ†ÎßàÌÜ† Ïû¨Î∞∞" />
                </Form.Item>
              </Col>
              <Col span={12}>
                <Form.Item label="Í≤ΩÎ†•" name="experience">
                  <Input placeholder="Ïòà: 5ÎÖÑ" />
                </Form.Item>
              </Col>
            </Row>
          )}
        </Form>
      </Modal>
    </div>
  );
};

export default AdminUsers;